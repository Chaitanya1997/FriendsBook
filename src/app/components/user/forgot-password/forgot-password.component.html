<div
    class="col-md-6 mx-auto"
    *ngIf="this.identifyUserRoute"
>
    <div class="card">
        <div class="pt-3">
            <h4 class="text-center m-0">Find Your Account</h4>
            <hr class="dialog-title-hr mb-0">
        </div>
        <div class="card-body">
            <div class="mb-3">
                <span>
                    Please enter your
                    email address
                    and
                    date of birth
                    to search for your account.
                </span>
            </div>
            <form
                class="m-0"
                [formGroup]="findAccountForm"
                (ngSubmit)="onSubmit()"
            >
                <div class="mb-3">
                    <label
                        class="mb-2"
                        for="email"
                    >
                        Email
                    </label>
                    <input
                        type="text"
                        formControlName="email"
                        class="form-control"
                        placeholder="Email"
                        [ngClass]="{
                           'is-invalid': submitted && f.email.errors
                      }"
                    >
                    <div
                        *ngIf="submitted && f.email.errors"
                        class="invalid-feedback"
                    >
                        <div *ngIf="f.email.errors.required">Email is required</div>
                    </div>
                </div>
                <div class="mb-3">
                    <label
                        class="mb-2"
                        for="dob"
                    >
                        DOB
                    </label>
                    <input
                        type="date"
                        formControlName="dob"
                        class="form-control"
                        [ngClass]="{
                           'is-invalid': submitted && f.dob.errors
                      }"
                    >
                    <div
                        *ngIf="submitted && f.dob.errors"
                        class="invalid-feedback"
                    >
                        <div *ngIf="f.dob.errors.required">DOB is required</div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button
                        type="button"
                        class="btn btn-light me-2"
                        [routerLink]="[ '/login' ]"
                    >
                        Cancel
                    </button>
                    <button
                        [disabled]="loading"
                        class="btn btn-primary"
                        type="submit"
                    >
                        <span
                            *ngIf="loading"
                            class="spinner-border spinner-border-sm mr-1"
                        ></span>
                        Go
                    </button>
                </div>
                <div
                    *ngIf="!foundUser && noUserFound"
                    class="mt-3 alert alert-sm alert-danger"
                    role="alert"
                >
                    No account found with the given details
                </div>
            </form>
        </div>
    </div>
</div>

<div
    class="col-md-6 mx-auto"
    *ngIf="this.forgotPasswordRoute"
>
    <div class="card">
        <div class="pt-3">
            <h4 class="text-center m-0">Reset Password</h4>
            <hr class="dialog-title-hr mb-0">
        </div>
        <div class="card-body">
            <form
                class="m-0"
                [formGroup]="forgotPasswordForm"
                (ngSubmit)="onPasswordReset()"
            >
                <div class="row align-items-center">
                    <div class="col-md-7">
                        <div class="mb-3">
                            <label
                                class="mb-2"
                                for="password"
                            >
                                Password
                            </label>
                            <input
                                type="password"
                                formControlName="password"
                                class="form-control"
                                placeholder="Enter New Password"
                                [ngClass]="{
                               'is-invalid': forgotPasswordFormSubmitted && forgotPasswordFormControls.password.errors
                          }"
                            >
                            <div
                                *ngIf="forgotPasswordFormSubmitted && forgotPasswordFormControls.password.errors"
                                class="invalid-feedback"
                            >
                                <div *ngIf="forgotPasswordFormControls.password.errors.required">Password is required</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label
                                class="mb-2"
                                for="confirmPassword"
                            >
                                Confirm Password
                            </label>
                            <input
                                type="password"
                                formControlName="confirmPassword"
                                class="form-control"
                                placeholder="Re-Enter Your Password"
                                [ngClass]="{
                               'is-invalid': forgotPasswordFormSubmitted && forgotPasswordFormControls.confirmPassword.errors
                          }"
                            >
                            <div
                                *ngIf="forgotPasswordFormSubmitted && forgotPasswordFormControls.confirmPassword.errors"
                                class="invalid-feedback"
                            >
                                <div *ngIf="forgotPasswordFormControls.confirmPassword.errors.required">Confirm Password is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="text-center">
                            <div
                                class="_9o4c"
                                style="line-height:0"
                            >
                                <img
                                    class="round-image img"
                                    src="https://scontent.fvga4-1.fna.fbcdn.net/v/t1.30497-1/cp0/c24.0.80.80a/p80x80/84628273_176159830277856_972693363922829312_n.jpg?_nc_cat=1&amp;ccb=1-3&amp;_nc_sid=12b3be&amp;_nc_ohc=KVrvBuf1svYAX8TVyrs&amp;_nc_ht=scontent.fvga4-1.fna&amp;oh=bfc94a0fc0742276ea6340cf4b482ca8&amp;oe=60F53B49"
                                    alt
                                    style="width:60px;height:60px"
                                >
                            </div>
                            <div class="mt-2">{{foundUser?.email}}</div>
                            <div class="mt-2">
                                {{foundUser?.firstName}} {{foundUser?.lastName}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <button
                        type="button"
                        class="btn btn-light me-2"
                        [routerLink]="[ '/login', 'identify' ]"
                    >
                        Cancel
                    </button>
                    <button
                        class="btn btn-primary"
                        type="submit"
                    >
                        Submit
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>
